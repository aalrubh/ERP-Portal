@import '@shared/styles/styles.scss';

/* Tweakables */
$menu-open: 275px;
$menu-closed: 50px;
$ease: 300ms ease;

.menu-item {
	width: $menu-open;
	display: flex;
	align-items: center;
	justify-content: flex-start;
	gap: 12px;
	border: 0;
	background: transparent;
	color: $text-color;
	padding: 12px 14px;
	cursor: pointer;
	text-align: left;
	overflow: hidden;

	transition: width $ease, gap $ease, padding $ease, background 300ms ease, color 300ms ease;

	&:hover {
		background: $surface-color;
	}

	&:focus-visible {
		outline: 2px solid $text-color;
		outline-offset: 2px;
		border-radius: 6px;
	}

	.icon {
		width: 20px;
		height: 20px;
		flex: 0 0 20px;
	}

	.menu-item-title {
		font-size: 14px;
		font-weight: 600;
		color: $text-color;
		white-space: nowrap;
		margin-inline-end: auto;
		opacity: 1;
		transform: translateX(0);
		transition: opacity 300ms ease, transform $ease;
	}

	.arrow {
		width: 16px;
		height: 16px;
		transition: transform 300ms ease, opacity 300ms ease;
		opacity: 1;
		transform: translateX(0);

		&.open {
			transform: rotate(180deg);
		}
	}
}

.menu-item.closed {
	width: $menu-closed;
	transition: 300ms $ease;

	.menu-item-title,
	.arrow {
		opacity: 0;
		transition: opacity 400ms $ease;
		transform: translateX(-8px) 50ms $ease;
		pointer-events: none;
	}
}

.submenu {
	list-style: none;
	margin: 0;
	padding: 2px 0 6px;
	overflow: hidden;

	&.slide-in {
		animation: subMenuSlide 240ms ease forwards;
	}

	&.slide-out {
		animation: subMenuSlide 180ms ease reverse;
	}
}

@keyframes subMenuSlide {
	from {
		opacity: 0;
		transform: translateY(-16px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}